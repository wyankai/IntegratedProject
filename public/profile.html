<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>repl.it</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>

       <!-- Add icon library -->
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- For theme buttons. Ajax to change the colour of the backgrounds etc -->
        <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  
      <div class="header" >
        <a href = index.html><i class="fa fa-angle-left "></i></a>
        <h2>My Profile</h2>
      </div>
  
      <section class="container">
  
        <!-- To run code the moment the website loads-->
        <body onLoad="toggleDarkMode()"></body>
        
        <style>
          #usernameChange{
            display:none;
            margin-left: 37px;
          }
        </style>
        <div class= "body">
            <div class="profileBody">
                <img class="profilePicture" src="Images/profile picture.png" alt="placeholderImage">
                  <div class ="usernameContainer">
                    <p><a id="username"><b>Guest123</b></a></p>
                    <button id="loadA" class ="change"><i class ="fa fa-pencil-square-o"></i></button>
                  </div>
                  <div id="usernameChange">
                    <input type="text" id="username" name="username" > 
                    <button id="save" >save</button>
                  </div>
                  
                  
                
                <table>
                    <tr>
                        <td>Quiz Completed</td>
                        <td><p><a id="quiz">0</a></p></td>
                    </tr>
                    <tr>
                        <td>Mask Collected</td>
                        <td><p><a id="mask">0</a></p></td>
                    </tr>
                    <tr>
                        <td>Live Saved</td>
                        <td id = "liveSaved"></td>
                    </tr>
                    <tr>
                        <td>Assist</td>
                        <td >0</td>
                    </tr>
                    <tr>
                        <td>Rewards Collected</td>
                        <td id = "rewardsCollected"></td>
                    </tr>
                </table>
            </div>
            <!-- Button added so that the data can be properly displayed-->
            <a href ="index.html" class="btnA" id="clickQuiz">Back</a>

            <a class = "backBtn" href = index.html>Back</a>
        </div>
      </section>

      <script>
        $('#save').on('click', function(){
          $('input[type="text"]').each(function(){    
              var id = $(this).attr('id');
              var value = $(this).val();
            localStorage.setItem(id, value);
            window.location.reload();    
          });   
        });

        $('input[type="text"]').each(function(){    
              var id = $(this).attr('id');
              var value = localStorage.getItem(id);
              $(this).val(value);
              document.getElementById("username").innerHTML = value; 
              
          }); 

        $('#loadA').on('click', function(){
          $('input[type="text"]').each(function(){    
              var id = $(this).attr('id');
              var value = localStorage.getItem(id);
              $(this).val(value);

              var x = document.getElementById("usernameChange");
              if (window.getComputedStyle(x).display === "none") {
                x.style.display = "block";
              }
              else{
                x.style.display = "none";
              }
          }); 
        });

      </script>
  
    <script src="js/script.js"></script>
    <script src="js/chat.js"></script>
  </body>
</html>